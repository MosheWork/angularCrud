<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<div class="nine">
  <!-- <h1>{{ titleUnit }}<span></span></h1> -->
  <div class="top-right-container">
    <button mat-icon-button (click)="goToHome()" matTooltip="Go to Home">
      <mat-icon>home</mat-icon>
    </button>
  </div>
</div>

<div class="mat-elevation-z8" dir="rtl">
  <div
    class="table-header"
    style="display: flex; justify-content: space-between; align-items: center"
  >
    <mat-form-field
      class="long-search-bar"
      style="flex: 1; padding-right: 10px"
    >
      <mat-label class="filters" style="color: blue">חיפוש</mat-label>
      <input matInput (keyup)="applyFilter($event)" placeholder="חיפוש" />
    </mat-form-field>
  </div>
  <table mat-table [dataSource]="dataSource" matSort>
    <!-- ID Column -->
    <ng-container matColumnDef="rowid">
      <th mat-header-cell *matHeaderCellDef>מספר דוח</th>
      <td mat-cell *matCellDef="let element">{{ element.rowid }}</td>
    </ng-container>
    <ng-container matColumnDef="reportName">
      <th mat-header-cell *matHeaderCellDef>שם הדוח</th>
      <td mat-cell *matCellDef="let element">{{ element.reportName }}</td>
    </ng-container>

    <ng-container matColumnDef="linkDescription">
      <th mat-header-cell *matHeaderCellDef>פירוט</th>
      <td mat-cell *matCellDef="let element">{{ element.linkDescription }}</td>
    </ng-container>
    <ng-container matColumnDef="linkAdress">
      <th mat-header-cell *matHeaderCellDef>נתיב </th>
      <td mat-cell *matCellDef="let element">{{ element.linkAdress }}</td>
    </ng-container>
    <!-- <ng-container matColumnDef="linkToPage">
        <th mat-header-cell *matHeaderCellDef>קישור לדף</th>
        <td mat-cell *matCellDef="let element">{{ element.linkToPage }}</td>
      </ng-container> -->
    <!-- <ng-container matColumnDef="permissions">
        <th mat-header-cell *matHeaderCellDef>הרשאות</th>
        <td mat-cell *matCellDef="let element">{{ element.permissions }}</td>
      </ng-container> -->
    <ng-container matColumnDef="btn">
      <th mat-header-cell *matHeaderCellDef class="bold-header">מעבר לדוחות</th>
      <td mat-cell *matCellDef="let element">
        <button
          mat-raised-button
          color="primary"
          class="reports-button"
          (click)="navigate(element.linkAdress)"
        >
          <mat-icon>assessment</mat-icon>
          צפייה בדוח
        </button>
      </td>
    </ng-container>
    <ng-container matColumnDef="permissions">
        <th mat-header-cell *matHeaderCellDef>עדכון</th>
        <td mat-cell *matCellDef="let element">
          <button
            mat-raised-button
            color="primary"
            class="permissions-button"
            (click)="openPermissionsDialog(element.linkAdress)"
          >
            <mat-icon>lock_open</mat-icon>
            <!-- This is a Material icon for permissions -->
            עדכון הרשאות
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef>עדכון</th>
        <td mat-cell *matCellDef="let element">
          <button
            mat-raised-button
            color="primary"
            class="permissions-button"
            (click)="openUpdateDialog(element)"
          >
            <mat-icon>edit</mat-icon>
            <!-- This is a Material icon for permissions -->
            עריכת הדוח
          </button>
        </td>
      </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <mat-paginator
    [pageSizeOptions]="[15, 50, 100]"
    showFirstLastButtons
  ></mat-paginator>
</div>
<button mat-fab color="primary" (click)="openAddNewDialog()">
  <mat-icon>add</mat-icon>
</button>
<!-- <div class="body" dir="rtl">
    <div class="department one">
      <h1>מחלקה 1</h1>
      <div class="card-container">
        <div class="card" *ngFor="let card of cards">
          <mat-card>
            <mat-card-title class="title1">{{ card.title }}</mat-card-title>
            <mat-card-subtitle class="title1"
              >מבקש הדוח: {{ card.requester }}</mat-card-subtitle
            >
            <mat-card-content>{{ card.content }}</mat-card-content>
            <button mat-button class="button" [routerLink]="card.link">
              להרצת הדוח
            </button>
          </mat-card>
        </div>
      </div>
    </div>
  
    <div class="department two">
      <h1>מחלקה 2</h1>
      <div class="card-container">
        <div class="card" *ngFor="let mosh of moshe">
          <mat-card>
            <mat-card-title class="title1">{{ mosh.title }}</mat-card-title>
            <mat-card-subtitle class="title1"
              >מבקש הדוח: {{ mosh.requester }}</mat-card-subtitle
            >
            <mat-card-content>{{ mosh.content }}</mat-card-content>
            <button mat-button class="button" [routerLink]="mosh.link">
              להרצת הדוח
            </button>
          </mat-card>
        </div>
      </div>
    </div>
  </div> -->
