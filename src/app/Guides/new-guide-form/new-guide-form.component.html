<!-- new-guide-form.component.html -->

<div>
    <label for="title">Title:</label>
    <input type="text" id="title" name="title" [(ngModel)]="title" required>
  </div>
  
  <div *ngFor="let section of sections; let i = index">
    <div *ngIf="section.type === 'text'">
      <label for="textContent{{i}}">Text Content:</label>
      <textarea id="textContent{{i}}" name="textContent{{i}}" [(ngModel)]="section.content" required></textarea>
    </div>
    <div *ngIf="section.type === 'image'">
      <label for="image{{i}}">Image:</label>
      <input type="file" id="image{{i}}" name="image{{i}}" (change)="handleImageChange($event, i)" accept="image/*" required>
    </div>
  </div>
  
  <button type="button" (click)="addTextSection()">Add Text Section</button>
  <button type="button" (click)="addImageSection()">Add Image Section</button>
  
  <div>
    <label for="createdBy">Created By:</label>
    <input type="text" id="createdBy" name="createdBy" [(ngModel)]="createdBy" required>
  </div>
  
  <button type="button" (click)="submitForm()">Submit</button>