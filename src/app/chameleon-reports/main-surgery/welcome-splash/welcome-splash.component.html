<div
  class="splash-container"
  *ngIf="visible"
  (click)="onOverlayClick()"
  [ngStyle]="{
    '--dur': durationMs + 'ms', 

    'background-size': 'cover',
    'background-position': 'center',
    'background-repeat': 'no-repeat'
  }"
  dir="rtl"
>


  <!-- NEW: top progress bar -->
  <div class="progress" *ngIf="fxProgress"><span></span></div>

  <!-- NEW: falling confetti -->
  <div class="confetti" *ngIf="fxConfetti">
    <span
      *ngFor="let c of confetti; let i = index"
      [style.left.%]="(i * 100) / confetti.length"
      [style.background]="colors[i % colors.length]"
      [style.animationDelay.ms]="(i % 10) * 120"
      [style.animationDuration.ms]="2200 + (i % 7) * 260"
      [style.transform]="'rotate(' + (i * 37 % 360) + 'deg)'"
    ></span>
  </div>

  <!-- NEW: soft floating particles -->
  <div class="particles" *ngIf="fxParticles">
    <span
      *ngFor="let p of confetti; let i = index"
      [style.left.%]="(i * 100) / confetti.length"
      [style.animationDelay.ms]="(i % 12) * 180"
      [style.animationDuration.ms]="4000 + (i % 8) * 500"
    ></span>
  </div>
  <!-- animated gradient glow -->
  <div class="splash-gradient"></div>

  <!-- dark overlay -->
  <div class="splash-overlay"></div>

  <!-- floating decor orbs -->
  <div class="orbs">
    <span class="orb orb-1"></span>
    <span class="orb orb-2"></span>
    <span class="orb orb-3"></span>
  </div>

  <div class="splash-content">
    <!-- glass “card” -->
    <div class="glass-card">
      <div class="avatar-wrap">
        <img [src]="profilePictureUrl" alt="User" class="splash-avatar" />
        <span class="avatar-ring"></span>
      </div>

      <div class="splash-welcome">
        <span class="shine">ברוך הבא</span> {{ userName }}
      </div>
      <div class="splash-sub">{{ subText }}</div>

      <!-- <img [src]="logoUrl" alt="Logo" class="splash-logo" /> -->
      <h1 class="splash-title">{{ titleText }}</h1>
    </div>
  </div>

  <!-- gentle animated waves -->
  <div class="waves">
    <svg viewBox="0 0 1440 120" preserveAspectRatio="none">
      <path d="M0,80 C240,20 480,20 720,80 C960,140 1200,140 1440,80 L1440,120 L0,120 Z"></path>
    </svg>
  </div>
</div>
