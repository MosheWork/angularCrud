
<div class="body">
  <div class="nine">
    <h1>{{ titleUnit }}<span>{{ Title1 }}{{ Title2 }}{{ totalResults }}</span></h1>
  </div>

  <form  dir="rtl" class="filter-form" style="display: flex; justify-content: space-between; align-items: center;">
      <!-- Search Bar: Full Width with Icons Aligned Right -->
      <mat-form-field class="long-search-bar" style="flex-grow: 1; margin-right: 10px; width: 70%;">
        <mat-label class="filters" style="color: blue">חיפוש</mat-label>
        <input matInput [formControlName]="'globalFilter'" class="search-input" />
      </mat-form-field>

      <!-- Icons: Aligned on the Same Line -->
      <div dir="rtl" class="icon-container" style="display: flex; align-items: center;">
        <!-- Excel Export Icon -->
        <img src="../../assets/excel.png" alt="Download" (click)="exportToExcel()" class="download-icon icon" width="50px" style="margin-left: 10px;" />
        <!-- Graph Navigation Icon -->
        <!-- Reset Filters Button -->
        <button mat-button  mat-raised-button color="primary" class="custom-button" matTooltip="Reset Filters" style="margin-left: 10px;">
          <i class="material-icons">refresh</i>
        </button>
      </div>
  </form>
  <mat-tab-group>
    <mat-tab label="מידע חדר מיון">
      <div *ngIf="isLoadingUrgency" class="loading-spinner">
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
        <h2>הנתונים נטענים...</h2>
      </div>
      <mat-table *ngIf="!isLoadingUrgency" [dataSource]="urgencyDataSource" matSort dir="rtl" class="mat-elevation-z8">
        <ng-container *ngFor="let column of urgencyColumns" [matColumnDef]="column">
          <mat-header-cell *matHeaderCellDef mat-sort-header> {{ column }} </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{ element[column] }} </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="urgencyColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: urgencyColumns"></mat-row>
      </mat-table>
      <mat-paginator #urgencyPaginator [pageSizeOptions]="[15, 50, 100]"></mat-paginator>
    </mat-tab>
  
    <mat-tab label="תלונות">
      <div *ngIf="isLoadingComplaint" class="loading-spinner">
        <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
        <h2>הנתונים נטענים...</h2>
      </div>
      <mat-table *ngIf="!isLoadingComplaint" [dataSource]="complaintDataSource" matSort dir="rtl" class="mat-elevation-z8">
        <ng-container *ngFor="let column of complaintColumns" [matColumnDef]="column">
          <mat-header-cell *matHeaderCellDef mat-sort-header> {{ column }} </mat-header-cell>
          <mat-cell *matCellDef="let element"> {{ element[column] }} </mat-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="complaintColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: complaintColumns"></mat-row>
      </mat-table>
      <mat-paginator #complaintPaginator [pageSizeOptions]="[15, 50, 100]"></mat-paginator>
    </mat-tab>
  </mat-tab-group>
  
</div>