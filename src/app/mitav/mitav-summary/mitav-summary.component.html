<app-spinner [isLoading]="isLoading"></app-spinner>

<div *ngIf="!isLoading" class="body" >
    <div class="tables-container">
        <div class="table-wrapper">
    <h2 class="table-title">1. אוכלוסיות בגיליון</h2>
    <table mat-table [dataSource]="tableData" class="mat-elevation-z8" *ngIf="!isLoading" dir="rtl">
  
      <!-- Define Columns -->
  
      <!-- Total Patients Column -->
      <ng-container matColumnDef="totalPatients">
        <th mat-header-cell *matHeaderCellDef> מאושפזים בגיל 65+ שהתאשפזו בכל מחלקות בית החולים </th>
        <td mat-cell *matCellDef="let row"> {{ row.totalPatients }} </td>
      </ng-container>
  
      <!-- Internal and Surgical Patients Column -->
      <ng-container matColumnDef="internalAndSurgicalPatients">
        <th mat-header-cell *matHeaderCellDef> מאושפזים 65+ בכלל המחלקות באגף הפנימי והכירורגי </th>
        <td mat-cell *matCellDef="let row"> {{ row.internalAndSurgicalPatients }} </td>
      </ng-container>
  
      <!-- Walking Program Patients Column -->
      <ng-container matColumnDef="walkingProgramPatients">
        <th mat-header-cell *matHeaderCellDef> מאושפזים בגיל 65+ בכלל המחלקות המשתתפות בתכנית הליכה </th>
        <td mat-cell *matCellDef="let row"> {{ row.walkingProgramPatients }} </td>
      </ng-container>
  
      <!-- Walking Program Achieved 70% Column -->
      <ng-container matColumnDef="walkingProgramAchieved70">
        <th mat-header-cell *matHeaderCellDef> מאושפזים בגיל 65+ שהשתתפו בתכנית הליכה - מטופלים שעמדו ביעד של 70% </th>
        <td mat-cell *matCellDef="let row"> {{ row.walkingProgramAchieved70 }} </td>
      </ng-container>
  
      <!-- Table Headers Row -->
      <tr mat-header-row *matHeaderRowDef="['totalPatients', 'internalAndSurgicalPatients', 'walkingProgramPatients', 'walkingProgramAchieved70']"></tr>
  
      <!-- Table Data Row -->
      <tr mat-row *matRowDef="let row; columns: ['totalPatients', 'internalAndSurgicalPatients', 'walkingProgramPatients', 'walkingProgramAchieved70'];"></tr>
  
    </table>
</div>
<div class="table-wrapper">

      <!-- Second Table Title -->
  <h2 class="table-title">2. משתתפים בתכנית הליכה לפי מחלקה (יעד 1)</h2>

  <table mat-table [dataSource]="departmentTableData" class="mat-elevation-z8" *ngIf="!isLoading" dir="rtl">

    <ng-container matColumnDef="departmentType">
      <th mat-header-cell *matHeaderCellDef> סוג המחלקה (פנימית \ כירורגית) </th>
      <td mat-cell *matCellDef="let row"> {{ row.departmentType }} </td>
    </ng-container>

    <ng-container matColumnDef="departmentName">
      <th mat-header-cell *matHeaderCellDef> שם המחלקה (למשל: כירורגיה כללית א') </th>
      <td mat-cell *matCellDef="let row"> {{ row.departmentName }} </td>
    </ng-container>

    <ng-container matColumnDef="totalPatients">
      <th mat-header-cell *matHeaderCellDef> מספר מאושפזים בני 65+ במחלקה </th>
      <td mat-cell *matCellDef="let row"> {{ row.totalPatients }} </td>
    </ng-container>

    <ng-container matColumnDef="walkingParticipants">
      <th mat-header-cell *matHeaderCellDef> מאושפזים בגיל 65+ שהשתתפו בתכנית הליכה </th>
      <td mat-cell *matCellDef="let row"> {{ row.walkingParticipants }} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="['departmentType', 'departmentName', 'totalPatients', 'walkingParticipants']"></tr>
    <tr mat-row *matRowDef="let row; columns: ['departmentType', 'departmentName', 'totalPatients', 'walkingParticipants'];"></tr>
  </table>
</div>


  </div>
  